<config>
  <api>
    <resources>
      <mventory_tm_dataflow translate="title" module="mventory_tm">
        <title>Dataflow API</title>
        <model>mventory_tm/dataflow_api</model>
        <acl>mventory_tm/dataflow</acl>

        <methods>
          <getProfilesList translate="title" module="mventory_tm">
            <title>Get a list of profiles</title>
            <acl>mventory_tm/dataflow</acl>
          </getProfilesList>

          <executeProfile translate="title" module="mventory_tm">
            <title>Execute a profile</title>
            <acl>mventory_tm/dataflow</acl>
          </executeProfile>
        </methods>
      </mventory_tm_dataflow>

      <catalog_category translate="title" module="catalog">
        <title>Category API</title>
        <model>mventory_tm/category_api</model>
        <acl>catalog/product</acl>

        <methods>
          <treeActiveOnly translate="title" module="catalog">
            <title>Retrieve a tree of active categories</title>
            <acl>catalog/category/tree</acl>
          </treeActiveOnly>
        </methods>
      </catalog_category>

      <catalog_product translate="title" module="catalog">
        <title>Product API</title>
        <model>mventory_tm/product_api</model>
        <acl>catalog/product</acl>

        <methods>
          <fullInfo translate="title" module="catalog">
            <title>Retrieve product</title>
            <acl>catalog/product/info</acl>
          </fullInfo>

          <limitedList translate="title" module="mventory_tm">
            <title>Retrieve limited list of products</title>
            <method>limitedList</method>
            <acl>catalog/product/info</acl>
          </limitedList>

          <createAndReturnInfo translate="title" module="catalog">
            <title>Create new product</title>
            <acl>catalog/product/create</acl>
          </createAndReturnInfo>

          <statistics translate="title" module="catalog">
            <title>Get info about new products, sales and stock</title>
            <acl>catalog/product/info</acl>
          </statistics>

          <submitToTM translate="title" module="catalog">
            <title>Send product to TM</title>
            <acl>catalog/product/info</acl>
          </submitToTM>
        </methods>
      </catalog_product>

      <catalog_product_attribute translate="title" module="catalog">
        <title>Product attributes API</title>
        <model>mventory_tm/product_attribute_api</model>
        <acl>catalog/product</acl>

        <methods>
          <fullInfoList translate="title" module="catalog">
            <title>Retrieve attribute list</title>
            <method>fullInfoList</method>
            <acl>catalog/product/attribute/read</acl>
          </fullInfoList>

          <addOptionAndReturnInfo translate="title" module="catalog">
            <title>Add option</title>
            <acl>catalog/product/attribute/option/add</acl>
          </addOptionAndReturnInfo>
        </methods>
      </catalog_product_attribute>

      <catalog_product_attribute_set translate="title" module="catalog">
        <title>Product attribute sets API</title>
        <model>mventory_tm/product_attribute_set_api</model>
        <acl>catalog/product/attribute/set</acl>

        <methods>
          <fullInfoList translate="title" module="catalog">
            <title>Retrieve product attribute sets</title>
            <method>fullInfoList</method>
            <acl>catalog/product/attribute/set/list</acl>
          </fullInfoList>
        </methods>
      </catalog_product_attribute_set>

      <catalog_product_attribute_media translate="title" module="catalog">
        <title>Product Images API</title>
        <model>mventory_tm/product_attribute_media_api</model>
        <acl>catalog/product/media</acl>

        <methods>
          <createAndReturnInfo translate="title" module="catalog">
            <title>Upload new product image </title>
            <acl>catalog/product/media/create</acl>
          </createAndReturnInfo>
        </methods>
      </catalog_product_attribute_media>

      <cataloginventory_stock_item translate="title" module="cataloginventory">
        <model>mventory_tm/stock_item_api</model>
        <acl>cataloginventory</acl>

        <methods>
          <list translate="title" module="cataloginventory">
            <title>Retrieve stock data by product ids</title>
            <method>items</method>
            <acl>cataloginventory/info</acl>
          </list>
        </methods>

        <faults module="cataloginventory">
          <not_exists>
            <code>101</code>
            <message>Product not exists.</message>
          </not_exists>
        </faults>
      </cataloginventory_stock_item>

      <cart translate="title" module="mventory_tm">
        <model>mventory_tm/cart_api</model>
        <acl>cart</acl>

        <methods>
          <createOrderForProduct translate="title" module="mventory_tm">
            <title>Create order for specified SKU</title>
            <method>createOrderForProduct</method>
            <acl>cart/order</acl>
          </createOrderForProduct>

          <createOrderForMultipleProducts translate="title" module="mventory_tm">
            <title>Create order for multiple products</title>
            <method>createOrderForMultipleProducts</method>
            <acl>cart/order</acl>
          </createOrderForMultipleProducts>

          <addToCart translate="title" module="mventory_tm">
            <title>Add an item to cart</title>
            <method>addToCart</method>
            <acl>cart/item</acl>
          </addToCart>

          <getCart translate="title" module="mventory_tm">
            <title>Get contents of the whole cart</title>
            <method>getCart</method>
            <acl>cart/item</acl>
          </getCart>
        </methods>

        <faults module="checkout">
          <!-- Checkout Cart Customer Api faults -->
          <customer_not_set>
            <code>1041</code>
            <message>Customer is not set. </message>
          </customer_not_set>

          <customer_data_invalid>
            <code>1044</code>
            <message>Customer data is not valid. </message>
          </customer_data_invalid>

          <customer_mode_is_unknown>
            <code>1045</code>
            <message>Customer's mode is unknown</message>
          </customer_mode_is_unknown>

          <!-- Checkout Cart Product Api faults -->
          <invalid_product_data>
            <code>1021</code>
            <message>Product's data is not valid.</message>
          </invalid_product_data>

          <add_product_fault>
            <code>1022</code>
            <message>Product(s) could not be added. </message>
          </add_product_fault>

          <add_product_quote_save_fault>
            <code>1023</code>
            <message>Quote could not be saved during adding product(s) operation.</message>
          </add_product_quote_save_fault>

          <!-- createOrderForMultipleProducts faults -->
          <product_not_exists>
            <code>10001</code>
            <message>Product doesn't exist</message>
          </product_not_exists>

          <invalid_params>
            <code>10002</code>
            <message>Invalid parameters</message>
          </invalid_params>

          <transaction_not_exists>
            <code>10003</code>
            <message>No such transaction ID</message>
          </transaction_not_exists>
        </faults>
      </cart>

      <sales_order translate="title" module="sales">
        <model>mventory_tm/order_api</model>
        <acl>sales/order</acl>

        <methods>
          <listByStatus translate="title" module="sales">
            <title>Retrieve list of orders by status and store</title>
            <acl>sales/order/info</acl>
          </listByStatus>

          <fullInfo translate="title" module="sales">
            <title>Retrieve order information</title>
            <acl>sales/order/info</acl>
          </fullInfo>
        </methods>
      </sales_order>

      <sales_order_shipment translate="title" module="sales">
        <model>mventory_tm/order_shipment_api</model>
        <acl>sales/order</acl>

        <methods>
          <createShipmentWithTracking translate="title" module="sales">
            <title>Create shipment with track and retrieve order information</title>
            <acl>sales/order</acl>
          </createShipmentWithTracking>
        </methods>
      </sales_order_shipment>
    </resources>
  </api>
</config>
